# burncloud-service

ä¸šåŠ¡é€»è¾‘å±‚ï¼Œçº¯ä¸šåŠ¡ä»£ç ï¼Œæ—  UI ä¾èµ–ã€‚

## ğŸ§… ç¬¬ä¸€å±‚ï¼šç³»ç»Ÿä¸­çš„ä½ç½®

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          BurnCloud å››å±‚æ¶æ„                                  â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Layer 2: Control Plane (æ§åˆ¶å¹³é¢)                                    â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚                     burncloud-server                             â”‚  â”‚  â”‚
â”‚  â”‚  â”‚                     REST API + LiveView                         â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                      â”‚                                       â”‚
â”‚                                      â–¼                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Layer 1: Data Plane (æ•°æ®å¹³é¢)                                       â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚                     burncloud-router                             â”‚  â”‚  â”‚
â”‚  â”‚  â”‚                     è®¤è¯/è·¯ç”±/è®¡è´¹                               â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                      â”‚                                       â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚                    â”‚                 â”‚                 â”‚                    â”‚
â”‚                    â–¼                 â–¼                 â–¼                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Layer 3: Service   â”‚ â”‚  Layer 4: Data    â”‚ â”‚  Common               â”‚   â”‚
â”‚  â”‚  â˜… å½“å‰             â”‚ â”‚                   â”‚ â”‚                       â”‚   â”‚
â”‚  â”‚  service-*          â”‚ â”‚  database-*       â”‚ â”‚  å…±äº«ç±»å‹             â”‚   â”‚
â”‚  â”‚  ä¸šåŠ¡é€»è¾‘           â”‚ â”‚  æŒä¹…åŒ–å±‚         â”‚ â”‚                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Service çš„èŒè´£:
â”œâ”€â”€ å°è£…ä¸šåŠ¡é€»è¾‘
â”œâ”€â”€ ä¸ä¾èµ– UI æ¡†æ¶
â”œâ”€â”€ ä¸ä¾èµ– Web æ¡†æ¶
â”œâ”€â”€ å¯ç‹¬ç«‹æµ‹è¯•
â””â”€â”€ å¯å¤ç”¨ (è¢« server/client/cli è°ƒç”¨)
```

## ğŸ§… ç¬¬äºŒå±‚ï¼šService æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          service æ•´ä½“æ¶æ„                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚service-inferenceâ”‚  â”‚ service-user  â”‚  â”‚service-models  â”‚                â”‚
â”‚  â”‚                â”‚  â”‚                â”‚  â”‚                â”‚                â”‚
â”‚  â”‚ æ¨ç†æœåŠ¡é€»è¾‘   â”‚  â”‚ ç”¨æˆ·ç®¡ç†æœåŠ¡  â”‚  â”‚ æ¨¡å‹ç®¡ç†æœåŠ¡   â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚service-monitor â”‚  â”‚service-setting â”‚  â”‚ service-redis  â”‚                â”‚
â”‚  â”‚                â”‚  â”‚                â”‚  â”‚                â”‚                â”‚
â”‚  â”‚ ç³»ç»Ÿç›‘æ§æœåŠ¡   â”‚  â”‚ è®¾ç½®æœåŠ¡      â”‚  â”‚ Redis ç¼“å­˜æœåŠ¡ â”‚                â”‚
â”‚  â”‚                â”‚  â”‚                â”‚  â”‚                â”‚                â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚                â”‚  â”‚                â”‚                â”‚
â”‚  â”‚ â”‚ collectors â”‚ â”‚  â”‚                â”‚  â”‚                â”‚                â”‚
â”‚  â”‚ â”‚ â”œâ”€â”€ cpu    â”‚ â”‚  â”‚                â”‚  â”‚                â”‚                â”‚
â”‚  â”‚ â”‚ â”œâ”€â”€ memory â”‚ â”‚  â”‚                â”‚  â”‚                â”‚                â”‚
â”‚  â”‚ â”‚ â””â”€â”€ disk   â”‚ â”‚  â”‚                â”‚  â”‚                â”‚                â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚                â”‚  â”‚                â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                         â”‚
â”‚  â”‚  service-ip    â”‚                                                         â”‚
â”‚  â”‚                â”‚                                                         â”‚
â”‚  â”‚ IP åœ°ç†ä½ç½®    â”‚                                                         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                         â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ§… ç¬¬ä¸‰å±‚ï¼šæºç ç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            service/ ç»“æ„                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  crates/service/                                                             â”‚
â”‚  â”œâ”€â”€ src/                                                                    â”‚
â”‚  â”‚   â””â”€â”€ lib.rs              # å…¥å£                                         â”‚
â”‚  â”‚                                                                          â”‚
â”‚  â””â”€â”€ crates/                                                                 â”‚
â”‚      â”œâ”€â”€ service-inference/  # æ¨ç†æœåŠ¡                                     â”‚
â”‚      â”‚   â””â”€â”€ src/lib.rs                                                      â”‚
â”‚      â”‚                                                                       â”‚
â”‚      â”œâ”€â”€ service-user/       # ç”¨æˆ·æœåŠ¡                                     â”‚
â”‚      â”‚   â”œâ”€â”€ src/lib.rs                                                      â”‚
â”‚      â”‚   â””â”€â”€ examples/usage.rs                                               â”‚
â”‚      â”‚                                                                       â”‚
â”‚      â”œâ”€â”€ service-models/     # æ¨¡å‹æœåŠ¡                                     â”‚
â”‚      â”‚   â”œâ”€â”€ src/lib.rs                                                      â”‚
â”‚      â”‚   â””â”€â”€ examples/                                                       â”‚
â”‚      â”‚       â”œâ”€â”€ list_gguf.rs                                                â”‚
â”‚      â”‚       â””â”€â”€ test_download.rs                                            â”‚
â”‚      â”‚                                                                       â”‚
â”‚      â”œâ”€â”€ service-monitor/    # ç›‘æ§æœåŠ¡                                     â”‚
â”‚      â”‚   â”œâ”€â”€ src/lib.rs                                                      â”‚
â”‚      â”‚   â”œâ”€â”€ src/service.rs                                                  â”‚
â”‚      â”‚   â”œâ”€â”€ src/types.rs                                                    â”‚
â”‚      â”‚   â”œâ”€â”€ src/collectors/                                                 â”‚
â”‚      â”‚   â”‚   â”œâ”€â”€ mod.rs                                                       â”‚
â”‚      â”‚   â”‚   â”œâ”€â”€ cpu.rs                                                       â”‚
â”‚      â”‚   â”‚   â”œâ”€â”€ memory.rs                                                    â”‚
â”‚      â”‚   â”‚   â””â”€â”€ disk.rs                                                      â”‚
â”‚      â”‚   â””â”€â”€ examples/basic_usage.rs                                         â”‚
â”‚      â”‚                                                                       â”‚
â”‚      â”œâ”€â”€ service-setting/    # è®¾ç½®æœåŠ¡                                     â”‚
â”‚      â”‚   â””â”€â”€ src/lib.rs                                                      â”‚
â”‚      â”‚                                                                       â”‚
â”‚      â”œâ”€â”€ service-redis/      # Redis æœåŠ¡                                   â”‚
â”‚      â”‚   â””â”€â”€ src/lib.rs                                                      â”‚
â”‚      â”‚                                                                       â”‚
â”‚      â””â”€â”€ service-ip/         # IP æœåŠ¡                                      â”‚
â”‚          â””â”€â”€ src/lib.rs                                                      â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ§… ç¬¬å››å±‚ï¼šservice-monitor - ç³»ç»Ÿç›‘æ§

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          service-monitor                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  æ–‡ä»¶ç»“æ„:                                                                   â”‚
â”‚  src/                                                                        â”‚
â”‚  â”œâ”€â”€ lib.rs              # å…¥å£                                             â”‚
â”‚  â”œâ”€â”€ service.rs          # SystemMonitorService                             â”‚
â”‚  â”œâ”€â”€ types.rs            # ç›‘æ§ç±»å‹å®šä¹‰                                     â”‚
â”‚  â””â”€â”€ collectors/         # æ•°æ®é‡‡é›†å™¨                                       â”‚
â”‚      â”œâ”€â”€ mod.rs                                                              â”‚
â”‚      â”œâ”€â”€ cpu.rs          # CPU ä½¿ç”¨ç‡                                       â”‚
â”‚      â”œâ”€â”€ memory.rs       # å†…å­˜ä½¿ç”¨                                         â”‚
â”‚      â””â”€â”€ disk.rs         # ç£ç›˜ä½¿ç”¨                                         â”‚
â”‚                                                                              â”‚
â”‚  SystemMonitorService:                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  pub struct SystemMonitorService {                                     â”‚  â”‚
â”‚  â”‚      cpu: CpuCollector,                                                â”‚  â”‚
â”‚  â”‚      memory: MemoryCollector,                                          â”‚  â”‚
â”‚  â”‚      disk: DiskCollector,                                              â”‚  â”‚
â”‚  â”‚  }                                                                     â”‚  â”‚
â”‚  â”‚                                                                        â”‚  â”‚
â”‚  â”‚  impl SystemMonitorService {                                           â”‚  â”‚
â”‚  â”‚      pub fn new() -> Self;                                             â”‚  â”‚
â”‚  â”‚      pub async fn start_auto_update(&self) -> Result<()>;             â”‚  â”‚
â”‚  â”‚      pub fn get_cpu_usage(&self) -> f64;                               â”‚  â”‚
â”‚  â”‚      pub fn get_memory_usage(&self) -> MemoryInfo;                    â”‚  â”‚
â”‚  â”‚      pub fn get_disk_usage(&self) -> Vec<DiskInfo>;                   â”‚  â”‚
â”‚  â”‚      pub fn get_all_metrics(&self) -> SystemMetrics;                  â”‚  â”‚
â”‚  â”‚  }                                                                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                              â”‚
â”‚  æ•°æ®é‡‡é›†å™¨:                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  CpuCollector                                                          â”‚  â”‚
â”‚  â”‚  â””â”€â”€ collect() â†’ CpuInfo { usage, cores, load_avg }                   â”‚  â”‚
â”‚  â”‚                                                                        â”‚  â”‚
â”‚  â”‚  MemoryCollector                                                       â”‚  â”‚
â”‚  â”‚  â””â”€â”€ collect() â†’ MemoryInfo { total, used, free, usage_percent }      â”‚  â”‚
â”‚  â”‚                                                                        â”‚  â”‚
â”‚  â”‚  DiskCollector                                                         â”‚  â”‚
â”‚  â”‚  â””â”€â”€ collect() â†’ Vec<DiskInfo { mount_point, total, used, free }>     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                              â”‚
â”‚  è‡ªåŠ¨æ›´æ–°æµç¨‹:                                                               â”‚
â”‚  start_auto_update() â†’ tokio::spawn(async { loop { collect(); sleep(5s); }})â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ§… ç¬¬äº”å±‚ï¼šservice-user - ç”¨æˆ·æœåŠ¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           service-user                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  UserService                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  pub struct UserService {                                              â”‚  â”‚
â”‚  â”‚      db: Arc<Database>,                                                â”‚  â”‚
â”‚  â”‚  }                                                                     â”‚  â”‚
â”‚  â”‚                                                                        â”‚  â”‚
â”‚  â”‚  ç”¨æˆ·ç®¡ç†:                                                              â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€ create_user(&self, input) â†’ Result<User>                         â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€ get_user(&self, id) â†’ Result<Option<User>>                       â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€ update_user(&self, id, input) â†’ Result<()>                       â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€ delete_user(&self, id) â†’ Result<()>                              â”‚  â”‚
â”‚  â”‚  â””â”€â”€ list_users(&self, filter) â†’ Result<Vec<User>>                    â”‚  â”‚
â”‚  â”‚                                                                        â”‚  â”‚
â”‚  â”‚  è®¤è¯:                                                                  â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€ authenticate(&self, username, password) â†’ Result<User>           â”‚  â”‚
â”‚  â”‚  â””â”€â”€ validate_token(&self, token) â†’ Result<TokenInfo>                 â”‚  â”‚
â”‚  â”‚                                                                        â”‚  â”‚
â”‚  â”‚  ä½™é¢ (åŒå¸ç§):                                                         â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€ get_balance(&self, user_id) â†’ Result<(i64, i64)>                 â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€ add_balance(&self, user_id, usd, cny) â†’ Result<()>               â”‚  â”‚
â”‚  â”‚  â””â”€â”€ deduct_balance(&self, user_id, amount) â†’ Result<()>              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                              â”‚
â”‚  ä¸šåŠ¡è§„åˆ™:                                                                   â”‚
â”‚  â€¢ ç”¨æˆ·åå¿…é¡»å”¯ä¸€                                                            â”‚
â”‚  â€¢ å¯†ç å­˜å‚¨ä¸ºå“ˆå¸Œ                                                            â”‚
â”‚  â€¢ ä½™é¢ä¸å…è®¸ä¸ºè´Ÿ                                                            â”‚
â”‚  â€¢ åˆ é™¤ç”¨æˆ·æ—¶æ¸…ç†å…³è” Token                                                  â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ§… ç¬¬å…­å±‚ï¼šservice-models - æ¨¡å‹æœåŠ¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          service-models                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  ModelService                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  æ¨¡å‹ç®¡ç†:                                                              â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€ list_models(&self) â†’ Result<Vec<ModelInfo>>                      â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€ get_model(&self, name) â†’ Result<Option<ModelInfo>>               â”‚  â”‚
â”‚  â”‚  â””â”€â”€ search_models(&self, query) â†’ Result<Vec<ModelInfo>>             â”‚  â”‚
â”‚  â”‚                                                                        â”‚  â”‚
â”‚  â”‚  GGUF æ¨¡å‹:                                                             â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€ list_gguf_models(&self, path) â†’ Result<Vec<GgufModel>>           â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€ parse_gguf_metadata(&self, path) â†’ Result<GgufMetadata>          â”‚  â”‚
â”‚  â”‚  â””â”€â”€ get_download_url(&self, model) â†’ Result<String>                  â”‚  â”‚
â”‚  â”‚                                                                        â”‚  â”‚
â”‚  â”‚  HuggingFace é›†æˆ:                                                      â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€ fetch_model_info(&self, model_id) â†’ Result<HfModelInfo>          â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€ list_repo_files(&self, model_id) â†’ Result<Vec<RepoFile>>         â”‚  â”‚
â”‚  â”‚  â””â”€â”€ get_download_urls(&self, model_id) â†’ Result<Vec<Url>>            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                              â”‚
â”‚  GGUF æ¨¡å‹ä¿¡æ¯:                                                              â”‚
â”‚  GgufModel { name, path, size, quantization, metadata }                     â”‚
â”‚  GgufMetadata { architecture, context_length, embedding_length, ... }       â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ§… ç¬¬ä¸ƒå±‚ï¼šå…¶ä»–æœåŠ¡

### service-setting - è®¾ç½®æœåŠ¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          service-setting                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  SettingService                                                              â”‚
â”‚  â”œâ”€â”€ get/set/delete/get_all          # åŸºæœ¬é”®å€¼æ“ä½œ                         â”‚
â”‚  â”œâ”€â”€ get_int/get_bool/get_json<T>    # ç±»å‹åŒ–è®¿é—®                           â”‚
â”‚  â”‚                                                                          â”‚
â”‚  å¸¸ç”¨è®¾ç½®é”®:                                                                 â”‚
â”‚  â”œâ”€â”€ system.locale           # è¯­è¨€è®¾ç½®                                     â”‚
â”‚  â”œâ”€â”€ system.theme            # ä¸»é¢˜                                         â”‚
â”‚  â”œâ”€â”€ billing.currency        # é»˜è®¤è´§å¸                                     â”‚
â”‚  â”œâ”€â”€ router.default_model    # é»˜è®¤æ¨¡å‹                                     â”‚
â”‚  â””â”€â”€ log.retention_days      # æ—¥å¿—ä¿ç•™å¤©æ•°                                 â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### service-redis - Redis ç¼“å­˜æœåŠ¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           service-redis                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  RedisService                                                                â”‚
â”‚  â”œâ”€â”€ get/set/set_ex/delete           # åŸºæœ¬æ“ä½œ                             â”‚
â”‚  â”œâ”€â”€ cache_get<T>/cache_set<T>       # æ³›å‹ç¼“å­˜                             â”‚
â”‚  â””â”€â”€ cache_invalidate                # ç¼“å­˜å¤±æ•ˆ                             â”‚
â”‚                                                                              â”‚
â”‚  ä½¿ç”¨åœºæ™¯:                                                                   â”‚
â”‚  â”œâ”€â”€ Token éªŒè¯ç¼“å­˜                                                         â”‚
â”‚  â”œâ”€â”€ ä»·æ ¼æ•°æ®ç¼“å­˜                                                           â”‚
â”‚  â”œâ”€â”€ é™æµè®¡æ•°å™¨                                                             â”‚
â”‚  â””â”€â”€ ä¼šè¯å­˜å‚¨                                                               â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### service-ip - IP åœ°ç†ä½ç½®

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            service-ip                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  IpService                                                                   â”‚
â”‚  â”œâ”€â”€ get_location(ip) â†’ Location     # è·å–åœ°ç†ä½ç½®                         â”‚
â”‚  â””â”€â”€ get_country(ip) â†’ String        # è·å–å›½å®¶                             â”‚
â”‚                                                                              â”‚
â”‚  Location { country, country_name, city, latitude, longitude, timezone }     â”‚
â”‚                                                                              â”‚
â”‚  ä½¿ç”¨åœºæ™¯:                                                                   â”‚
â”‚  â”œâ”€â”€ åŒºåŸŸå®šä»·åˆ¤æ–­ (cn/international)                                        â”‚
â”‚  â”œâ”€â”€ è®¿é—®æ—¥å¿—è®°å½•                                                           â”‚
â”‚  â””â”€â”€ è´Ÿè½½å‡è¡¡åŒºåŸŸé€‰æ‹©                                                       â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### service-inference - æ¨ç†æœåŠ¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         service-inference                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  InferenceService                                                            â”‚
â”‚  â”œâ”€â”€ start_server(config) â†’ Result<()>    # å¯åŠ¨æ¨ç†æœåŠ¡                   â”‚
â”‚  â”œâ”€â”€ stop_server() â†’ Result<()>           # åœæ­¢æœåŠ¡                       â”‚
â”‚  â”œâ”€â”€ get_status() â†’ ServerStatus          # è·å–çŠ¶æ€                       â”‚
â”‚  â””â”€â”€ list_available_models() â†’ Vec<Model> # å¯ç”¨æ¨¡å‹                       â”‚
â”‚                                                                              â”‚
â”‚  ServerConfig { model_path, port, gpu_layers, context_length }              â”‚
â”‚                                                                              â”‚
â”‚  æ”¯æŒçš„æ¨ç†å¼•æ“:                                                             â”‚
â”‚  â”œâ”€â”€ llama.cpp                                                              â”‚
â”‚  â”œâ”€â”€ ollama                                                                 â”‚
â”‚  â””â”€â”€ vLLM                                                                   â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ§… ç¬¬å…«å±‚ï¼šè®¾è®¡åŸåˆ™

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              è®¾è®¡åŸåˆ™                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  1. çº¯ä¸šåŠ¡é€»è¾‘                                                               â”‚
â”‚     â€¢ ä¸ä¾èµ– UI æ¡†æ¶ (Dioxus, etc.)                                        â”‚
â”‚     â€¢ ä¸ä¾èµ– Web æ¡†æ¶ (axum, etc.)                                         â”‚
â”‚     â€¢ å¯ç‹¬ç«‹æµ‹è¯•                                                            â”‚
â”‚                                                                              â”‚
â”‚  2. å¯æµ‹è¯•æ€§                                                                 â”‚
â”‚     â€¢ æ¯ä¸ªæœåŠ¡å¯å•ç‹¬æµ‹è¯•                                                    â”‚
â”‚     â€¢ æ”¯æŒ Mock æ•°æ®åº“                                                      â”‚
â”‚     â€¢ ä¸šåŠ¡é€»è¾‘ä¸æ•°æ®è®¿é—®åˆ†ç¦»                                                â”‚
â”‚                                                                              â”‚
â”‚  3. å¯å¤ç”¨æ€§                                                                 â”‚
â”‚     â€¢ å¯è¢« server è°ƒç”¨ (REST API)                                          â”‚
â”‚     â€¢ å¯è¢« client è°ƒç”¨ (GUI)                                               â”‚
â”‚     â€¢ å¯è¢« cli è°ƒç”¨ (å‘½ä»¤è¡Œ)                                                â”‚
â”‚                                                                              â”‚
â”‚  4. å•ä¸€èŒè´£                                                                 â”‚
â”‚     â€¢ æ¯ä¸ªå­ crate åªè´Ÿè´£ä¸€ä¸ªä¸šåŠ¡é¢†åŸŸ                                      â”‚
â”‚     â€¢ ç”¨æˆ·æœåŠ¡åªç®¡ç”¨æˆ·                                                      â”‚
â”‚     â€¢ ç›‘æ§æœåŠ¡åªç®¡ç›‘æ§                                                      â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ§… ç¬¬ä¹å±‚ï¼šæ–‡ä»¶çº§è¯¦è§£

### service-monitor/lib.rs - ç›‘æ§æœåŠ¡å…¥å£

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       service-monitor/lib.rs                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  æ¨¡å—å£°æ˜:                                                                   â”‚
â”‚  pub mod collectors;                                                         â”‚
â”‚  pub mod service;                                                            â”‚
â”‚  pub mod types;                                                              â”‚
â”‚                                                                              â”‚
â”‚  å…¬å¼€å¯¼å‡º:                                                                   â”‚
â”‚  pub use service::SystemMonitorService;                                      â”‚
â”‚  pub use types::*;                                                           â”‚
â”‚  pub use collectors::*;                                                      â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### service-monitor/service.rs - ç›‘æ§æœåŠ¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     service-monitor/service.rs                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  pub struct SystemMonitorService {                                           â”‚
â”‚      cpu: CpuCollector,                                                      â”‚
â”‚      memory: MemoryCollector,                                                â”‚
â”‚      disk: DiskCollector,                                                    â”‚
â”‚      cache: Arc<RwLock<SystemMetrics>>,                                      â”‚
â”‚  }                                                                           â”‚
â”‚                                                                              â”‚
â”‚  impl SystemMonitorService {                                                 â”‚
â”‚      pub fn new() -> Self;                                                   â”‚
â”‚                                                                              â”‚
â”‚      pub async fn start_auto_update(&self) -> Result<()>;                   â”‚
â”‚      // å¯åŠ¨åå°é‡‡é›†ä»»åŠ¡ (æ¯ 5 ç§’)                                          â”‚
â”‚                                                                              â”‚
â”‚      pub fn get_cpu_usage(&self) -> f64;                                     â”‚
â”‚      pub fn get_memory_usage(&self) -> MemoryInfo;                          â”‚
â”‚      pub fn get_disk_usage(&self) -> Vec<DiskInfo>;                         â”‚
â”‚      pub fn get_all_metrics(&self) -> SystemMetrics;                        â”‚
â”‚  }                                                                           â”‚
â”‚                                                                              â”‚
â”‚  é‡‡é›†æµç¨‹:                                                                   â”‚
â”‚  tokio::spawn(async {                                                        â”‚
â”‚      loop {                                                                  â”‚
â”‚          let metrics = collect_all();                                        â”‚
â”‚          *cache.write() = metrics;                                           â”‚
â”‚          sleep(Duration::from_secs(5)).await;                               â”‚
â”‚      }                                                                       â”‚
â”‚  });                                                                         â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### service-monitor/types.rs - ç›‘æ§ç±»å‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      service-monitor/types.rs                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  pub struct SystemMetrics {                                                  â”‚
â”‚      pub cpu: CpuInfo,                                                       â”‚
â”‚      pub memory: MemoryInfo,                                                 â”‚
â”‚      pub disks: Vec<DiskInfo>,                                               â”‚
â”‚      pub collected_at: DateTime<Utc>,                                        â”‚
â”‚  }                                                                           â”‚
â”‚                                                                              â”‚
â”‚  pub struct CpuInfo {                                                        â”‚
â”‚      pub usage: f64,                    // 0-100%                           â”‚
â”‚      pub cores: usize,                                                       â”‚
â”‚      pub load_avg: [f64; 3],            // 1/5/15 åˆ†é’Ÿè´Ÿè½½                 â”‚
â”‚  }                                                                           â”‚
â”‚                                                                              â”‚
â”‚  pub struct MemoryInfo {                                                     â”‚
â”‚      pub total: u64,                    // æ€»å­—èŠ‚æ•°                         â”‚
â”‚      pub used: u64,                                                          â”‚
â”‚      pub free: u64,                                                          â”‚
â”‚      pub usage_percent: f64,                                                 â”‚
â”‚  }                                                                           â”‚
â”‚                                                                              â”‚
â”‚  pub struct DiskInfo {                                                       â”‚
â”‚      pub mount_point: String,                                                â”‚
â”‚      pub total: u64,                                                         â”‚
â”‚      pub used: u64,                                                          â”‚
â”‚      pub free: u64,                                                          â”‚
â”‚      pub usage_percent: f64,                                                 â”‚
â”‚  }                                                                           â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### service-monitor/collectors/cpu.rs - CPU é‡‡é›†å™¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    service-monitor/collectors/cpu.rs                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  pub struct CpuCollector {                                                   â”‚
â”‚      // å†…éƒ¨çŠ¶æ€                                                             â”‚
â”‚  }                                                                           â”‚
â”‚                                                                              â”‚
â”‚  impl CpuCollector {                                                         â”‚
â”‚      pub fn new() -> Self;                                                   â”‚
â”‚                                                                              â”‚
â”‚      pub fn collect(&self) -> CpuInfo {                                      â”‚
â”‚          // ä½¿ç”¨ sysinfo crate é‡‡é›†                                         â”‚
â”‚          let usage = system.cpu_usage();                                     â”‚
â”‚          let cores = system.cpus().len();                                    â”‚
â”‚          let load_avg = system.load_average();                               â”‚
â”‚          CpuInfo { usage, cores, load_avg }                                  â”‚
â”‚      }                                                                       â”‚
â”‚  }                                                                           â”‚
â”‚                                                                              â”‚
â”‚  è·¨å¹³å°æ”¯æŒ:                                                                 â”‚
â”‚  â”œâ”€â”€ Linux: /proc/stat                                                       â”‚
â”‚  â”œâ”€â”€ macOS: host_processor_info                                              â”‚
â”‚  â””â”€â”€ Windows: GetSystemTimes                                                 â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### service-monitor/collectors/memory.rs - å†…å­˜é‡‡é›†å™¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  service-monitor/collectors/memory.rs                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  pub struct MemoryCollector;                                                 â”‚
â”‚                                                                              â”‚
â”‚  impl MemoryCollector {                                                      â”‚
â”‚      pub fn new() -> Self;                                                   â”‚
â”‚                                                                              â”‚
â”‚      pub fn collect(&self) -> MemoryInfo {                                   â”‚
â”‚          // ä½¿ç”¨ sysinfo crate é‡‡é›†                                         â”‚
â”‚          let total = system.total_memory();                                  â”‚
â”‚          let used = system.used_memory();                                    â”‚
â”‚          let free = total - used;                                            â”‚
â”‚          let usage_percent = (used as f64 / total as f64) * 100.0;          â”‚
â”‚          MemoryInfo { total, used, free, usage_percent }                    â”‚
â”‚      }                                                                       â”‚
â”‚  }                                                                           â”‚
â”‚                                                                              â”‚
â”‚  è¿”å›å€¼å•ä½: å­—èŠ‚                                                            â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### service-monitor/collectors/disk.rs - ç£ç›˜é‡‡é›†å™¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   service-monitor/collectors/disk.rs                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  pub struct DiskCollector;                                                   â”‚
â”‚                                                                              â”‚
â”‚  impl DiskCollector {                                                        â”‚
â”‚      pub fn new() -> Self;                                                   â”‚
â”‚                                                                              â”‚
â”‚      pub fn collect(&self) -> Vec<DiskInfo> {                                â”‚
â”‚          // éå†æ‰€æœ‰æŒ‚è½½ç‚¹                                                   â”‚
â”‚          let mut disks = Vec::new();                                         â”‚
â”‚          for disk in system.disks() {                                        â”‚
â”‚              let info = DiskInfo {                                           â”‚
â”‚                  mount_point: disk.mount_point().display(),                 â”‚
â”‚                  total: disk.total_space(),                                 â”‚
â”‚                  used: disk.total_space() - disk.available_space(),        â”‚
â”‚                  free: disk.available_space(),                              â”‚
â”‚                  usage_percent: ...,                                         â”‚
â”‚              };                                                              â”‚
â”‚              disks.push(info);                                               â”‚
â”‚          }                                                                   â”‚
â”‚          disks                                                               â”‚
â”‚      }                                                                       â”‚
â”‚  }                                                                           â”‚
â”‚                                                                              â”‚
â”‚  è¿‡æ»¤: æ’é™¤è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ (tmpfs, devfs, etc.)                                 â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### service-user/lib.rs - ç”¨æˆ·æœåŠ¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        service-user/lib.rs                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  pub struct UserService {                                                    â”‚
â”‚      db: Arc<Database>,                                                      â”‚
â”‚  }                                                                           â”‚
â”‚                                                                              â”‚
â”‚  impl UserService {                                                          â”‚
â”‚      pub fn new(db: Arc<Database>) -> Self;                                  â”‚
â”‚                                                                              â”‚
â”‚      // ç”¨æˆ· CRUD                                                            â”‚
â”‚      pub async fn create_user(&self, input: CreateUserInput) -> Result<User>â”‚
â”‚      pub async fn get_user(&self, id: &str) -> Result<Option<User>>         â”‚
â”‚      pub async fn update_user(&self, id: &str, input: UpdateUserInput)      â”‚
â”‚          -> Result<User>                                                     â”‚
â”‚      pub async fn delete_user(&self, id: &str) -> Result<()>                â”‚
â”‚      pub async fn list_users(&self, filter: UserFilter) -> Result<Vec<User>>â”‚
â”‚                                                                              â”‚
â”‚      // è®¤è¯                                                                 â”‚
â”‚      pub async fn authenticate(&self, username: &str, password: &str)       â”‚
â”‚          -> Result<User>                                                     â”‚
â”‚                                                                              â”‚
â”‚      // ä½™é¢ (åŒå¸ç§)                                                        â”‚
â”‚      pub async fn get_balance(&self, user_id: &str) -> Result<(i64, i64)>   â”‚
â”‚      pub async fn add_balance(&self, user_id: &str, usd: i64, cny: i64)     â”‚
â”‚          -> Result<()>                                                       â”‚
â”‚  }                                                                           â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### service-models/lib.rs - æ¨¡å‹æœåŠ¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       service-models/lib.rs                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  pub struct ModelService {                                                   â”‚
â”‚      db: Arc<Database>,                                                      â”‚
â”‚  }                                                                           â”‚
â”‚                                                                              â”‚
â”‚  impl ModelService {                                                         â”‚
â”‚      // æ¨¡å‹ç®¡ç†                                                             â”‚
â”‚      pub async fn list_models(&self) -> Result<Vec<ModelInfo>>              â”‚
â”‚      pub async fn get_model(&self, name: &str) -> Result<Option<ModelInfo>> â”‚
â”‚      pub async fn search_models(&self, query: &str) -> Result<Vec<ModelInfo>>â”‚
â”‚                                                                              â”‚
â”‚      // GGUF æ¨¡å‹                                                            â”‚
â”‚      pub fn list_gguf_models(&self, path: &Path) -> Result<Vec<GgufModel>>  â”‚
â”‚      pub fn parse_gguf_metadata(&self, path: &Path) -> Result<GgufMetadata> â”‚
â”‚                                                                              â”‚
â”‚      // HuggingFace                                                          â”‚
â”‚      pub async fn fetch_model_info(&self, model_id: &str) -> Result<HfInfo> â”‚
â”‚      pub async fn list_repo_files(&self, model_id: &str) -> Result<Vec<File>>â”‚
â”‚  }                                                                           â”‚
â”‚                                                                              â”‚
â”‚  pub struct GgufMetadata {                                                   â”‚
â”‚      pub architecture: String,                                               â”‚
â”‚      pub context_length: u64,                                                â”‚
â”‚      pub embedding_length: u64,                                              â”‚
â”‚      pub quantization: String,                                               â”‚
â”‚  }                                                                           â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### service-setting/lib.rs - è®¾ç½®æœåŠ¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       service-setting/lib.rs                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  pub struct SettingService {                                                 â”‚
â”‚      db: Arc<Database>,                                                      â”‚
â”‚  }                                                                           â”‚
â”‚                                                                              â”‚
â”‚  impl SettingService {                                                       â”‚
â”‚      pub async fn get(&self, key: &str) -> Result<Option<String>>           â”‚
â”‚      pub async fn set(&self, key: &str, value: &str) -> Result<()>          â”‚
â”‚      pub async fn delete(&self, key: &str) -> Result<()>                    â”‚
â”‚                                                                              â”‚
â”‚      // ç±»å‹åŒ–è®¿é—®                                                           â”‚
â”‚      pub async fn get_int(&self, key: &str) -> Result<Option<i64>>          â”‚
â”‚      pub async fn get_bool(&self, key: &str) -> Result<Option<bool>>        â”‚
â”‚      pub async fn get_json<T>(&self, key: &str) -> Result<Option<T>>        â”‚
â”‚  }                                                                           â”‚
â”‚                                                                              â”‚
â”‚  é¢„å®šä¹‰é”®:                                                                   â”‚
â”‚  â”œâ”€â”€ system.locale           // è¯­è¨€ (zh/en)                               â”‚
â”‚  â”œâ”€â”€ system.theme            // ä¸»é¢˜ (light/dark)                          â”‚
â”‚  â”œâ”€â”€ billing.currency        // é»˜è®¤è´§å¸ (USD/CNY)                         â”‚
â”‚  â””â”€â”€ log.retention_days      // æ—¥å¿—ä¿ç•™å¤©æ•°                               â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### service-redis/lib.rs - Redis æœåŠ¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        service-redis/lib.rs                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  pub struct RedisService {                                                   â”‚
â”‚      client: redis::Client,                                                  â”‚
â”‚  }                                                                           â”‚
â”‚                                                                              â”‚
â”‚  impl RedisService {                                                         â”‚
â”‚      pub async fn new(url: &str) -> Result<Self>                            â”‚
â”‚                                                                              â”‚
â”‚      // åŸºæœ¬æ“ä½œ                                                             â”‚
â”‚      pub async fn get(&self, key: &str) -> Result<Option<String>>           â”‚
â”‚      pub async fn set(&self, key: &str, value: &str) -> Result<()>          â”‚
â”‚      pub async fn set_ex(&self, key: &str, value: &str, ttl: u64)           â”‚
â”‚          -> Result<()>                                                       â”‚
â”‚      pub async fn delete(&self, key: &str) -> Result<()>                    â”‚
â”‚                                                                              â”‚
â”‚      // æ³›å‹ç¼“å­˜                                                             â”‚
â”‚      pub async fn cache_get<T: DeserializeOwned>(&self, key: &str)          â”‚
â”‚          -> Result<Option<T>>                                                â”‚
â”‚      pub async fn cache_set<T: Serialize>(&self, key: &str, value: &T,      â”‚
â”‚          ttl: u64) -> Result<()>                                             â”‚
â”‚  }                                                                           â”‚
â”‚                                                                              â”‚
â”‚  ä½¿ç”¨åœºæ™¯:                                                                   â”‚
â”‚  â”œâ”€â”€ Token éªŒè¯ç¼“å­˜                                                         â”‚
â”‚  â”œâ”€â”€ ä»·æ ¼æ•°æ®ç¼“å­˜                                                           â”‚
â”‚  â”œâ”€â”€ é™æµè®¡æ•°å™¨                                                             â”‚
â”‚  â””â”€â”€ ä¼šè¯å­˜å‚¨                                                               â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### service-ip/lib.rs - IP åœ°ç†ä½ç½®

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         service-ip/lib.rs                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  pub struct IpService {                                                      â”‚
â”‚      reader: maxminddb::Reader,                                              â”‚
â”‚  }                                                                           â”‚
â”‚                                                                              â”‚
â”‚  impl IpService {                                                            â”‚
â”‚      pub fn new(db_path: &Path) -> Result<Self>                             â”‚
â”‚      // åŠ è½½ MaxMind GeoLite2 æ•°æ®åº“                                        â”‚
â”‚                                                                              â”‚
â”‚      pub fn get_location(&self, ip: &str) -> Result<Location>               â”‚
â”‚      // è·å– IP åœ°ç†ä½ç½®                                                    â”‚
â”‚                                                                              â”‚
â”‚      pub fn get_country(&self, ip: &str) -> Result<String>                  â”‚
â”‚      // ä»…è·å–å›½å®¶ä»£ç                                                       â”‚
â”‚  }                                                                           â”‚
â”‚                                                                              â”‚
â”‚  pub struct Location {                                                       â”‚
â”‚      pub country: String,               // å›½å®¶ä»£ç  (CN/US/...)             â”‚
â”‚      pub country_name: String,          // å›½å®¶åç§°                         â”‚
â”‚      pub city: Option<String>,          // åŸå¸‚                             â”‚
â”‚      pub latitude: Option<f64>,                                               â”‚
â”‚      pub longitude: Option<f64>,                                              â”‚
â”‚      pub timezone: Option<String>,                                            â”‚
â”‚  }                                                                           â”‚
â”‚                                                                              â”‚
â”‚  ç”¨é€”:                                                                       â”‚
â”‚  â”œâ”€â”€ åŒºåŸŸå®šä»·åˆ¤æ–­ (cn/international)                                        â”‚
â”‚  â”œâ”€â”€ è®¿é—®æ—¥å¿—è®°å½•                                                           â”‚
â”‚  â””â”€â”€ è´Ÿè½½å‡è¡¡åŒºåŸŸé€‰æ‹©                                                       â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### service-inference/lib.rs - æ¨ç†æœåŠ¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     service-inference/lib.rs                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  pub struct InferenceService {                                               â”‚
â”‚      config: InferenceConfig,                                                â”‚
â”‚      process: Option<Child>,             // æ¨ç†è¿›ç¨‹                        â”‚
â”‚  }                                                                           â”‚
â”‚                                                                              â”‚
â”‚  impl InferenceService {                                                     â”‚
â”‚      pub async fn start_server(&mut self, config: ServerConfig)             â”‚
â”‚          -> Result<()>                                                       â”‚
â”‚      // å¯åŠ¨æ¨ç†æœåŠ¡ (llama.cpp, ollama, etc.)                              â”‚
â”‚                                                                              â”‚
â”‚      pub async fn stop_server(&mut self) -> Result<()>                      â”‚
â”‚      pub fn get_status(&self) -> ServerStatus                               â”‚
â”‚      pub fn list_available_models(&self) -> Vec<Model>                      â”‚
â”‚  }                                                                           â”‚
â”‚                                                                              â”‚
â”‚  pub struct ServerConfig {                                                   â”‚
â”‚      pub model_path: PathBuf,           // æ¨¡å‹æ–‡ä»¶è·¯å¾„                     â”‚
â”‚      pub port: u16,                      // æœåŠ¡ç«¯å£                        â”‚
â”‚      pub gpu_layers: u32,               // GPU å±‚æ•°                         â”‚
â”‚      pub context_length: u32,           // ä¸Šä¸‹æ–‡é•¿åº¦                       â”‚
â”‚  }                                                                           â”‚
â”‚                                                                              â”‚
â”‚  æ”¯æŒå¼•æ“: llama.cpp, ollama, vLLM                                          â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ§… ä¾èµ–å…³ç³»

```
burncloud-service
â”œâ”€â”€ service-inference
â”‚   â””â”€â”€ ä¾èµ–: burncloud-common
â”‚
â”œâ”€â”€ service-user
â”‚   â””â”€â”€ ä¾èµ–: burncloud-common, database-user
â”‚
â”œâ”€â”€ service-models
â”‚   â””â”€â”€ ä¾èµ–: burncloud-common, database-models
â”‚
â”œâ”€â”€ service-monitor
â”‚   â”œâ”€â”€ collectors (cpu, memory, disk)
â”‚   â””â”€â”€ ä¾èµ–: burncloud-common, sysinfo
â”‚
â”œâ”€â”€ service-setting
â”‚   â””â”€â”€ ä¾èµ–: burncloud-common, database-setting
â”‚
â”œâ”€â”€ service-redis
â”‚   â””â”€â”€ ä¾èµ–: burncloud-common, redis
â”‚
â””â”€â”€ service-ip
    â””â”€â”€ ä¾èµ–: burncloud-common, maxminddb
```
