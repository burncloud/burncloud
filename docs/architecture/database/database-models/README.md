# database-models

æ¨¡å‹ä»·æ ¼æ•°æ®è®¿é—®å±‚ï¼Œå¤„ç†ä»·æ ¼ã€åˆ†æ®µå®šä»·å’Œæ±‡ç‡ã€‚

## ğŸ§… ç¬¬ä¸€å±‚ï¼šåœ¨ Database ä¸­çš„ä½ç½®

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          burncloud-database                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚                        æ•°æ®åº“å±‚                                     â”‚    â”‚
â”‚   â”‚                                                                     â”‚    â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚    â”‚
â”‚   â”‚   â”‚database-router â”‚  â”‚ database-user  â”‚  â”‚â˜…database-models   â”‚   â”‚    â”‚
â”‚   â”‚   â”‚                â”‚  â”‚                â”‚  â”‚                    â”‚   â”‚    â”‚
â”‚   â”‚   â”‚ Token éªŒè¯     â”‚  â”‚ ç”¨æˆ· CRUD      â”‚  â”‚ ä»·æ ¼ç®¡ç†           â”‚   â”‚    â”‚
â”‚   â”‚   â”‚ é…é¢ç®¡ç†       â”‚  â”‚ ä½™é¢æ“ä½œ       â”‚  â”‚ åˆ†æ®µå®šä»·           â”‚   â”‚    â”‚
â”‚   â”‚   â”‚ æ—¥å¿—å­˜å‚¨       â”‚  â”‚                â”‚  â”‚ æ±‡ç‡ç®¡ç†           â”‚   â”‚    â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚    â”‚
â”‚   â”‚                                                                     â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

database-models çš„èŒè´£:
â”œâ”€â”€ æ¨¡å‹ä»·æ ¼ CRUD
â”œâ”€â”€ åˆ†æ®µå®šä»·ç®¡ç†
â”œâ”€â”€ æ±‡ç‡ç®¡ç†
â”œâ”€â”€ ä»·æ ¼æŸ¥è¯¢å’Œè®¡ç®—
â””â”€â”€ CLI å·¥å…·å…¥å£
```

## ğŸ§… ç¬¬äºŒå±‚ï¼šæ–‡ä»¶ç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       database-models æ–‡ä»¶ç»“æ„                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  crates/database/crates/database-models/                                     â”‚
â”‚  â”‚                                                                           â”‚
â”‚  â”œâ”€â”€ Cargo.toml           # ä¾èµ–é…ç½®                                        â”‚
â”‚  â”œâ”€â”€ src/                                                                    â”‚
â”‚  â”‚   â”œâ”€â”€ lib.rs           # æ•°æ®è®¿é—®å‡½æ•°                                    â”‚
â”‚  â”‚   â””â”€â”€ main.rs          # CLI å·¥å…· (ä»·æ ¼ç®¡ç†å‘½ä»¤)                         â”‚
â”‚  â”‚                                                                           â”‚
â”‚  â””â”€â”€ docs/               # æ–‡æ¡£                                             â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ§… ç¬¬ä¸‰å±‚ï¼šä»·æ ¼è¡¨ç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           prices è¡¨                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  å­˜å‚¨æ¯ä¸ªæ¨¡å‹çš„æ ‡å‡†ä»·æ ¼                                                      â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  å­—æ®µå              ç±»å‹          è¯´æ˜                              â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚   â”‚
â”‚  â”‚  id                  INTEGER       ä¸»é”®                              â”‚   â”‚
â”‚  â”‚  model               TEXT          æ¨¡å‹å (å¦‚ "gpt-4")              â”‚   â”‚
â”‚  â”‚  currency            TEXT          è´§å¸ (USD/CNY)                    â”‚   â”‚
â”‚  â”‚  region              TEXT          åŒºåŸŸ (cn/international/universal) â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  input_price         INTEGER       è¾“å…¥ä»·æ ¼ (çº³ç¾å…ƒ/ç™¾ä¸‡Token)        â”‚   â”‚
â”‚  â”‚  output_price        INTEGER       è¾“å‡ºä»·æ ¼                           â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  cache_read_input_price    INTEGER ç¼“å­˜è¯»å–ä»·æ ¼                      â”‚   â”‚
â”‚  â”‚  cache_creation_input_price INTEGER ç¼“å­˜åˆ›å»ºä»·æ ¼                      â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  batch_input_price   INTEGER       æ‰¹é‡è¾“å…¥ä»·æ ¼                      â”‚   â”‚
â”‚  â”‚  batch_output_price  INTEGER       æ‰¹é‡è¾“å‡ºä»·æ ¼                      â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  priority_input_price  INTEGER    ä¼˜å…ˆçº§è¾“å…¥ä»·æ ¼                    â”‚   â”‚
â”‚  â”‚  priority_output_price INTEGER    ä¼˜å…ˆçº§è¾“å‡ºä»·æ ¼                    â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  audio_input_price   INTEGER       éŸ³é¢‘è¾“å…¥ä»·æ ¼                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                              â”‚
â”‚  ç¤ºä¾‹æ•°æ®:                                                                   â”‚
â”‚  model         | input_price | output_price | region                        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                    â”‚
â”‚  gpt-4         | 30000000000 | 60000000000  | universal                     â”‚
â”‚  claude-3-sonnet | 3000000000 | 15000000000 | universal                     â”‚
â”‚  gpt-4         | 210000000000| 420000000000 | cn        (äººæ°‘å¸å®šä»·)         â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ§… ç¬¬å››å±‚ï¼šåˆ†æ®µå®šä»·è¡¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        tiered_pricing è¡¨                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  å­˜å‚¨æŒ‰ Token æ•°é‡åˆ†æ®µçš„ä»·æ ¼ (ç”¨äº Qwen ç­‰æ¨¡å‹)                              â”‚
â”‚                                                                              â”‚
â”‚  ä»€ä¹ˆæ˜¯åˆ†æ®µå®šä»·?                                                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                            â”‚
â”‚  æœ‰äº›æ¨¡å‹æ ¹æ®ä½¿ç”¨çš„ Token æ•°é‡æ”¶å–ä¸åŒä»·æ ¼:                                   â”‚
â”‚  â€¢ 0-128K Token: $0.5/ç™¾ä¸‡                                                  â”‚
â”‚  â€¢ 128K-1M Token: $1.0/ç™¾ä¸‡                                                 â”‚
â”‚  â€¢ 1M+ Token: $2.0/ç™¾ä¸‡                                                     â”‚
â”‚                                                                              â”‚
â”‚  è¡¨ç»“æ„:                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  å­—æ®µå              ç±»å‹          è¯´æ˜                              â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚   â”‚
â”‚  â”‚  id                  INTEGER       ä¸»é”®                              â”‚   â”‚
â”‚  â”‚  model               TEXT          æ¨¡å‹å                            â”‚   â”‚
â”‚  â”‚  region              TEXT          åŒºåŸŸ (cn/international)           â”‚   â”‚
â”‚  â”‚  tier_start          INTEGER       èµ·å§‹ Token æ•°                     â”‚   â”‚
â”‚  â”‚  tier_end            INTEGER       ç»“æŸ Token æ•°                     â”‚   â”‚
â”‚  â”‚  input_price         INTEGER       è¯¥æ®µè¾“å…¥ä»·æ ¼                      â”‚   â”‚
â”‚  â”‚  output_price        INTEGER       è¯¥æ®µè¾“å‡ºä»·æ ¼                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                              â”‚
â”‚  ç¤ºä¾‹æ•°æ® (Qwen):                                                            â”‚
â”‚  model   | tier_start | tier_end  | input_price | output_price              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€              â”‚
â”‚  qwen-72b| 0          | 131072    | 500000      | 2000000    (0-128K)       â”‚
â”‚  qwen-72b| 131072     | 1048576   | 1000000     | 4000000    (128K-1M)      â”‚
â”‚  qwen-72b| 1048576    | 999999999 | 2000000     | 8000000    (1M+)          â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ§… ç¬¬äº”å±‚ï¼šæ±‡ç‡è¡¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        exchange_rates è¡¨                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  å­˜å‚¨è´§å¸æ±‡ç‡ï¼Œç”¨äºåŒå¸ç§ä½™é¢è½¬æ¢                                            â”‚
â”‚                                                                              â”‚
â”‚  è¡¨ç»“æ„:                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  å­—æ®µå              ç±»å‹          è¯´æ˜                              â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚   â”‚
â”‚  â”‚  id                  INTEGER       ä¸»é”®                              â”‚   â”‚
â”‚  â”‚  from_currency       TEXT          æºè´§å¸ (USD)                      â”‚   â”‚
â”‚  â”‚  to_currency         TEXT          ç›®æ ‡è´§å¸ (CNY)                    â”‚   â”‚
â”‚  â”‚  rate                INTEGER       æ±‡ç‡ (Ã—10^9 ç¼©æ”¾)                â”‚   â”‚
â”‚  â”‚  updated_at          TEXT          æ›´æ–°æ—¶é—´                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                              â”‚
â”‚  ä¸ºä»€ä¹ˆç”¨ i64 å­˜æ±‡ç‡?                                                        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                        â”‚
â”‚  â€¢ é¿å…æµ®ç‚¹æ•°ç²¾åº¦é—®é¢˜                                                        â”‚
â”‚  â€¢ æ±‡ç‡ 7.2 å­˜å‚¨ä¸º 7_200_000_000                                            â”‚
â”‚  â€¢ è®¡ç®—æ—¶: result = amount * rate / 10^9                                    â”‚
â”‚                                                                              â”‚
â”‚  ç¤ºä¾‹æ•°æ®:                                                                   â”‚
â”‚  from_currency | to_currency | rate            | è¯´æ˜                       â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                 â”‚
â”‚  USD          | CNY         | 7200000000       | 1 USD = 7.2 CNY           â”‚
â”‚  CNY          | USD         | 138888889        | 1 CNY = 0.1388... USD     â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ§… ç¬¬å…­å±‚ï¼šæ ¸å¿ƒå‡½æ•°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          æ ¸å¿ƒå‡½æ•°                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  PriceModel - ä»·æ ¼æ“ä½œ                                                       â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                       â”‚
â”‚                                                                              â”‚
â”‚  /// è·å–ä»·æ ¼                                                                 â”‚
â”‚  pub async fn get(db: &Database, model: &str, currency: &str, region: &str) â”‚
â”‚      -> Result<Option<Price>>                                                â”‚
â”‚                                                                              â”‚
â”‚  /// è®¾ç½®ä»·æ ¼                                                                 â”‚
â”‚  pub async fn set(db: &Database, price: &Price) -> Result<()>               â”‚
â”‚  // æ’å…¥æˆ–æ›´æ–°ä»·æ ¼                                                           â”‚
â”‚                                                                              â”‚
â”‚  /// åˆ é™¤ä»·æ ¼                                                                 â”‚
â”‚  pub async fn delete(db: &Database, model: &str) -> Result<()>              â”‚
â”‚                                                                              â”‚
â”‚  /// åˆ—å‡ºæ‰€æœ‰ä»·æ ¼                                                             â”‚
â”‚  pub async fn list_all(db: &Database) -> Result<Vec<Price>>                 â”‚
â”‚                                                                              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                                                              â”‚
â”‚  TieredPriceModel - åˆ†æ®µå®šä»·æ“ä½œ                                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                        â”‚
â”‚                                                                              â”‚
â”‚  /// è·å–åˆ†æ®µä»·æ ¼                                                             â”‚
â”‚  pub async fn get_tiers(db: &Database, model: &str, region: &str)           â”‚
â”‚      -> Result<Vec<TieredPrice>>                                             â”‚
â”‚                                                                              â”‚
â”‚  /// æ·»åŠ åˆ†æ®µ                                                                 â”‚
â”‚  pub async fn add_tier(db: &Database, tier: &TieredPrice) -> Result<()>     â”‚
â”‚                                                                              â”‚
â”‚  /// åˆ é™¤åˆ†æ®µ                                                                 â”‚
â”‚  pub async fn delete_tiers(db: &Database, model: &str, region: &str)        â”‚
â”‚      -> Result<()>                                                           â”‚
â”‚                                                                              â”‚
â”‚  /// æ£€æŸ¥æ˜¯å¦æœ‰åˆ†æ®µå®šä»·                                                       â”‚
â”‚  pub async fn has_tiered_pricing(db: &Database, model: &str) -> Result<bool>â”‚
â”‚                                                                              â”‚
â”‚  /// ä» JSON å¯¼å…¥                                                             â”‚
â”‚  pub async fn import_from_json(db: &Database, json: &str) -> Result<()>     â”‚
â”‚                                                                              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                                                              â”‚
â”‚  ExchangeRateModel - æ±‡ç‡æ“ä½œ                                                â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                               â”‚
â”‚                                                                              â”‚
â”‚  /// è·å–æ±‡ç‡                                                                 â”‚
â”‚  pub async fn get_rate(db: &Database, from: &str, to: &str)                 â”‚
â”‚      -> Result<Option<i64>>                                                  â”‚
â”‚                                                                              â”‚
â”‚  /// è®¾ç½®æ±‡ç‡                                                                 â”‚
â”‚  pub async fn set_rate(db: &Database, from: &str, to: &str, rate: i64)      â”‚
â”‚      -> Result<()>                                                           â”‚
â”‚                                                                              â”‚
â”‚  /// è´§å¸è½¬æ¢                                                                 â”‚
â”‚  pub async fn convert(db: &Database, amount: i64, from: &str, to: &str)     â”‚
â”‚      -> Result<i64>                                                          â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ§… ç¬¬ä¸ƒå±‚ï¼šCLI å·¥å…· (main.rs)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          CLI å·¥å…·                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  å‘½ä»¤è¡Œä»·æ ¼ç®¡ç†å·¥å…·                                                           â”‚
â”‚                                                                              â”‚
â”‚  å‘½ä»¤åˆ—è¡¨:                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  # åˆ—å‡ºæ‰€æœ‰ä»·æ ¼                                                      â”‚   â”‚
â”‚  â”‚  burncloud price list                                               â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  # è®¾ç½®ä»·æ ¼                                                          â”‚   â”‚
â”‚  â”‚  burncloud price set gpt-4 --input 30.0 --output 60.0              â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  # è·å–ä»·æ ¼è¯¦æƒ…                                                      â”‚   â”‚
â”‚  â”‚  burncloud price get gpt-4                                          â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  # åˆ é™¤ä»·æ ¼                                                          â”‚   â”‚
â”‚  â”‚  burncloud price delete gpt-4                                       â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  # åˆ†æ®µå®šä»·æ“ä½œ                                                      â”‚   â”‚
â”‚  â”‚  burncloud tiered list-tiers qwen-72b                               â”‚   â”‚
â”‚  â”‚  burncloud tiered add-tier qwen-72b \                               â”‚   â”‚
â”‚  â”‚      --tier-start 0 --tier-end 131072 \                              â”‚   â”‚
â”‚  â”‚      --input-price 0.5 --output-price 2.0                            â”‚   â”‚
â”‚  â”‚  burncloud tiered import-tiered pricing.json                         â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â”‚  # æ±‡ç‡æ“ä½œ                                                          â”‚   â”‚
â”‚  â”‚  burncloud currency list                                            â”‚   â”‚
â”‚  â”‚  burncloud currency set USD CNY 7.2                                 â”‚   â”‚
â”‚  â”‚                                                                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ§… ä¾èµ–å…³ç³»

```
database-models
â”œâ”€â”€ burncloud-database
â”‚   â””â”€â”€ Database (è¿æ¥æ± )
â”œâ”€â”€ burncloud-common
â”‚   â”œâ”€â”€ types (Price, TieredPrice)
â”‚   â””â”€â”€ price_u64 (çº³ç¾å…ƒè½¬æ¢)
â””â”€â”€ external
    â”œâ”€â”€ sqlx            # æ•°æ®åº“è®¿é—®
    â”œâ”€â”€ serde           # åºåˆ—åŒ–
    â””â”€â”€ clap            # CLI å‚æ•°è§£æ (main.rs)
```
