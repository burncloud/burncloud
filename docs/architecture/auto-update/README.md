# burncloud-auto-update

è‡ªåŠ¨æ›´æ–°æ¨¡å—ï¼Œæä¾›åº”ç”¨ç¨‹åºè‡ªåŠ¨å‡çº§åŠŸèƒ½ã€‚

## ğŸ§… ç¬¬ä¸€å±‚ï¼šç³»ç»Ÿä¸­çš„ä½ç½®

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          BurnCloud ç³»ç»Ÿæ¶æ„                                  â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                        ğŸ› ï¸ è¾…åŠ©å·¥å…·å±‚                                   â”‚  â”‚
â”‚  â”‚                                                                        â”‚  â”‚
â”‚  â”‚   CLI â”€â”€â”€ Download â”€â”€â”€ â˜… AutoUpdate â”€â”€â”€ Code â”€â”€â”€ Core â”€â”€â”€ Tests       â”‚  â”‚
â”‚  â”‚                        å½“å‰                                            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

AutoUpdate çš„èŒè´£:
â”œâ”€â”€ æ£€æŸ¥åº”ç”¨æ›´æ–°
â”œâ”€â”€ ä¸‹è½½æ›´æ–°åŒ…
â”œâ”€â”€ éªŒè¯ç­¾å
â”œâ”€â”€ å®‰è£…æ›´æ–°
â””â”€â”€ å›æ»šæœºåˆ¶
```

## ğŸ§… ç¬¬äºŒå±‚ï¼šAutoUpdate æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         burncloud-auto-update                                â”‚
â”‚                          (Auto Updater)                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                          lib.rs                                        â”‚  â”‚
â”‚  â”‚  â€¢ AutoUpdater               è‡ªåŠ¨æ›´æ–°å™¨                               â”‚  â”‚
â”‚  â”‚  â€¢ UpdateCheck               æ›´æ–°æ£€æŸ¥                                 â”‚  â”‚
â”‚  â”‚  â€¢ UpdateResult              æ›´æ–°ç»“æœ                                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                         updater.rs                                     â”‚  â”‚
â”‚  â”‚  â€¢ check_for_updates()      æ£€æŸ¥æ›´æ–°                                  â”‚  â”‚
â”‚  â”‚  â€¢ download_update()        ä¸‹è½½æ›´æ–°åŒ…                                â”‚  â”‚
â”‚  â”‚  â€¢ install_update()         å®‰è£…æ›´æ–°                                  â”‚  â”‚
â”‚  â”‚  â€¢ verify_signature()       éªŒè¯ç­¾å                                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                          config.rs                                     â”‚  â”‚
â”‚  â”‚  UpdateConfig                                                           â”‚  â”‚
â”‚  â”‚  â€¢ update_url              æ›´æ–°æœåŠ¡å™¨åœ°å€                             â”‚  â”‚
â”‚  â”‚  â€¢ current_version         å½“å‰ç‰ˆæœ¬                                   â”‚  â”‚
â”‚  â”‚  â€¢ channel                 æ›´æ–°é€šé“ (stable/beta/alpha)              â”‚  â”‚
â”‚  â”‚  â€¢ auto_check              è‡ªåŠ¨æ£€æŸ¥é—´éš”                               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                          error.rs                                      â”‚  â”‚
â”‚  â”‚  UpdateError                                                            â”‚  â”‚
â”‚  â”‚  â€¢ NetworkError            ç½‘ç»œé”™è¯¯                                   â”‚  â”‚
â”‚  â”‚  â€¢ DownloadError           ä¸‹è½½é”™è¯¯                                   â”‚  â”‚
â”‚  â”‚  â€¢ VerificationError       éªŒè¯é”™è¯¯                                   â”‚  â”‚
â”‚  â”‚  â€¢ InstallationError       å®‰è£…é”™è¯¯                                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ§… ç¬¬ä¸‰å±‚ï¼šæºç ç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              æ–‡ä»¶ç»“æ„                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  crates/auto-update/                                                         â”‚
â”‚  â”œâ”€â”€ src/                                                                    â”‚
â”‚  â”‚   â”œâ”€â”€ lib.rs                     # æ¨¡å—å…¥å£                              â”‚
â”‚  â”‚   â”œâ”€â”€ updater.rs                 # æ›´æ–°å™¨å®ç°                            â”‚
â”‚  â”‚   â”œâ”€â”€ config.rs                  # é…ç½®å®šä¹‰                              â”‚
â”‚  â”‚   â””â”€â”€ error.rs                   # é”™è¯¯ç±»å‹                              â”‚
â”‚  â”‚                                                                           â”‚
â”‚  â””â”€â”€ examples/                                                               â”‚
â”‚      â””â”€â”€ update_example.rs          # ä½¿ç”¨ç¤ºä¾‹                              â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ§… ç¬¬å››å±‚ï¼šæ›´æ–°æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              æ›´æ–°æµç¨‹                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    åº”ç”¨å¯åŠ¨ (æˆ–å®šæ—¶æ£€æŸ¥)
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          æ£€æŸ¥æ›´æ–° (Check)                                    â”‚
â”‚                                                                              â”‚
â”‚   è·å–è¿œç¨‹ç‰ˆæœ¬ä¿¡æ¯ â†’ æ¯”è¾ƒç‰ˆæœ¬å· â†’ è¿”å›ç»“æœ                                  â”‚
â”‚   GET /api/version?channel=stable                                           â”‚
â”‚   Response: { version: "1.2.0", url: "...", signature: "..." }              â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚ æœ‰æ–°ç‰ˆæœ¬
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          ä¸‹è½½æ›´æ–° (Download)                                 â”‚
â”‚                                                                              â”‚
â”‚   ä¸‹è½½æ›´æ–°åŒ… â†’ æ˜¾ç¤ºè¿›åº¦æ¡ â†’ ä¿å­˜ä¸´æ—¶æ–‡ä»¶                                    â”‚
â”‚   ä¸‹è½½ä½ç½®: ~/.burncloud/updates/burncloud-1.2.0.exe                        â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          éªŒè¯ç­¾å (Verify)                                   â”‚
â”‚                                                                              â”‚
â”‚   è¯»å–ç­¾åæ–‡ä»¶ â†’ è®¡ç®—æ–‡ä»¶å“ˆå¸Œ â†’ éªŒè¯åŒ¹é…                                    â”‚
â”‚   ç­¾åç®—æ³•: SHA256 + Ed25519                                                â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚ éªŒè¯é€šè¿‡
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          å®‰è£…æ›´æ–° (Install)                                  â”‚
â”‚                                                                              â”‚
â”‚  Windows: 1. å¤‡ä»½å½“å‰ç‰ˆæœ¬ 2. è§£å‹æ–°ç‰ˆæœ¬ 3. æ›¿æ¢å¯æ‰§è¡Œæ–‡ä»¶ 4. é‡å¯åº”ç”¨       â”‚
â”‚  Linux:   1. å¤‡ä»½å½“å‰ç‰ˆæœ¬ 2. æ›¿æ¢äºŒè¿›åˆ¶æ–‡ä»¶ 3. é‡å¯æœåŠ¡                     â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
    æ›´æ–°å®Œæˆ â†’ å¯åŠ¨æ–°ç‰ˆæœ¬
```

## ğŸ§… ç¬¬äº”å±‚ï¼šæ›´æ–°é€šé“

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              æ›´æ–°é€šé“                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  Stable (ç¨³å®šç‰ˆ)                                                             â”‚
â”‚  â€¢ ç»è¿‡å……åˆ†æµ‹è¯• â€¢ æ¨èç”Ÿäº§ç¯å¢ƒä½¿ç”¨ â€¢ æ›´æ–°é¢‘ç‡è¾ƒä½                           â”‚
â”‚                                                                              â”‚
â”‚  Beta (æµ‹è¯•ç‰ˆ)                                                               â”‚
â”‚  â€¢ æ–°åŠŸèƒ½é¢„è§ˆ â€¢ åŸºæœ¬æµ‹è¯•é€šè¿‡ â€¢ å¯èƒ½å­˜åœ¨å·²çŸ¥é—®é¢˜                             â”‚
â”‚                                                                              â”‚
â”‚  Alpha (å¼€å‘ç‰ˆ)                                                              â”‚
â”‚  â€¢ æœ€æ–°å¼€å‘è¿›åº¦ â€¢ åŠŸèƒ½ä¸ç¨³å®š â€¢ ä»…ç”¨äºæµ‹è¯•                                   â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ§… ç¬¬å…­å±‚ï¼šå®‰å…¨æœºåˆ¶

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              å®‰å…¨æœºåˆ¶                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  1. ç­¾åéªŒè¯                                                                 â”‚
â”‚     â€¢ ä½¿ç”¨ Ed25519 ç­¾åç®—æ³•  â€¢ æ›´æ–°åŒ…å¿…é¡»å¸¦æœ‰æœ‰æ•ˆç­¾å  â€¢ é˜²æ­¢ä¸­é—´äººæ”»å‡»    â”‚
â”‚                                                                              â”‚
â”‚  2. HTTPS ä¼ è¾“                                                               â”‚
â”‚     â€¢ å¼ºåˆ¶ä½¿ç”¨ HTTPS  â€¢ è¯ä¹¦éªŒè¯                                            â”‚
â”‚                                                                              â”‚
â”‚  3. å¢é‡æ›´æ–°                                                                 â”‚
â”‚     â€¢ æ”¯æŒå·®é‡æ›´æ–°  â€¢ å‡å°‘ä¸‹è½½é‡  â€¢ é™ä½ç¯¡æ”¹é£é™©                            â”‚
â”‚                                                                              â”‚
â”‚  4. å›æ»šæœºåˆ¶                                                                 â”‚
â”‚     â€¢ ä¿ç•™æ—§ç‰ˆæœ¬å¤‡ä»½  â€¢ æ›´æ–°å¤±è´¥å¯å›æ»š                                      â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ§… ç¬¬ä¸ƒå±‚ï¼šæ–‡ä»¶çº§è¯¦è§£

### src/lib.rs - æ¨¡å—å…¥å£

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           src/lib.rs                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  æ¨¡å—å£°æ˜:                                                                   â”‚
â”‚  pub mod updater;                                                            â”‚
â”‚  pub mod config;                                                             â”‚
â”‚  pub mod error;                                                              â”‚
â”‚                                                                              â”‚
â”‚  å…¬å¼€å¯¼å‡º:                                                                   â”‚
â”‚  pub use updater::AutoUpdater;                                               â”‚
â”‚  pub use config::UpdateConfig;                                               â”‚
â”‚  pub use error::UpdateError;                                                 â”‚
â”‚                                                                              â”‚
â”‚  æ ¸å¿ƒç»“æ„:                                                                   â”‚
â”‚  pub struct UpdateCheck {                                                    â”‚
â”‚      pub current_version: String,                                            â”‚
â”‚      pub latest_version: String,                                             â”‚
â”‚      pub update_available: bool,                                             â”‚
â”‚      pub release_notes: Option<String>,                                      â”‚
â”‚      pub download_url: Option<String>,                                       â”‚
â”‚  }                                                                           â”‚
â”‚                                                                              â”‚
â”‚  pub struct UpdateResult {                                                   â”‚
â”‚      pub previous_version: String,                                           â”‚
â”‚      pub new_version: String,                                                â”‚
â”‚      pub success: bool,                                                      â”‚
â”‚  }                                                                           â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### src/updater.rs - æ›´æ–°å™¨å®ç°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          src/updater.rs                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  pub struct AutoUpdater {                                                    â”‚
â”‚      config: UpdateConfig,                                                   â”‚
â”‚      http: Client,                                                           â”‚
â”‚  }                                                                           â”‚
â”‚                                                                              â”‚
â”‚  impl AutoUpdater {                                                          â”‚
â”‚      pub fn new(config: UpdateConfig) -> Self;                               â”‚
â”‚                                                                              â”‚
â”‚      pub async fn check_for_updates(&self) -> Result<UpdateCheck>           â”‚
â”‚      // æ£€æŸ¥æ›´æ–°                                                            â”‚
â”‚      // GET {update_url}/api/version?channel={channel}                      â”‚
â”‚                                                                              â”‚
â”‚      pub async fn download_update(&self, url: &str) -> Result<PathBuf>      â”‚
â”‚      // ä¸‹è½½æ›´æ–°åŒ…                                                          â”‚
â”‚      // ä¿å­˜åˆ°: ~/.burncloud/updates/burncloud-{version}.{ext}              â”‚
â”‚                                                                              â”‚
â”‚      pub async fn verify_signature(&self, path: &Path, signature: &[u8])    â”‚
â”‚          -> Result<bool>                                                     â”‚
â”‚      // éªŒè¯ç­¾å (Ed25519)                                                  â”‚
â”‚                                                                              â”‚
â”‚      pub async fn install_update(&self, path: &Path) -> Result<()>          â”‚
â”‚      // å®‰è£…æ›´æ–°                                                            â”‚
â”‚      // 1. å¤‡ä»½å½“å‰ç‰ˆæœ¬                                                     â”‚
â”‚      // 2. è§£å‹/æ›¿æ¢æ–‡ä»¶                                                    â”‚
â”‚      // 3. é‡å¯åº”ç”¨                                                         â”‚
â”‚  }                                                                           â”‚
â”‚                                                                              â”‚
â”‚  ç­¾åéªŒè¯:                                                                   â”‚
â”‚  ç®—æ³•: Ed25519                                                               â”‚
â”‚  å…¬é’¥: å†…åµŒäºäºŒè¿›åˆ¶æ–‡ä»¶                                                      â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### src/config.rs - é…ç½®å®šä¹‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          src/config.rs                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  pub struct UpdateConfig {                                                   â”‚
â”‚      pub update_url: String,            // æ›´æ–°æœåŠ¡å™¨åœ°å€                   â”‚
â”‚      pub current_version: String,       // å½“å‰ç‰ˆæœ¬                         â”‚
â”‚      pub channel: UpdateChannel,        // æ›´æ–°é€šé“                         â”‚
â”‚      pub auto_check_interval: Duration, // è‡ªåŠ¨æ£€æŸ¥é—´éš”                     â”‚
â”‚      pub public_key: Vec<u8>,           // Ed25519 å…¬é’¥                     â”‚
â”‚  }                                                                           â”‚
â”‚                                                                              â”‚
â”‚  #[derive(Debug, Clone, Copy)]                                               â”‚
â”‚  pub enum UpdateChannel {                                                    â”‚
â”‚      Stable,                             // ç¨³å®šç‰ˆ                          â”‚
â”‚      Beta,                               // æµ‹è¯•ç‰ˆ                          â”‚
â”‚      Alpha,                              // å¼€å‘ç‰ˆ                          â”‚
â”‚  }                                                                           â”‚
â”‚                                                                              â”‚
â”‚  impl Default for UpdateConfig {                                             â”‚
â”‚      fn default() -> Self {                                                  â”‚
â”‚          Self {                                                              â”‚
â”‚              update_url: "https://updates.burncloud.com".into(),            â”‚
â”‚              channel: UpdateChannel::Stable,                                â”‚
â”‚              auto_check_interval: Duration::from_secs(86400), // 24h       â”‚
â”‚              ...                                                             â”‚
â”‚          }                                                                   â”‚
â”‚      }                                                                       â”‚
â”‚  }                                                                           â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### src/error.rs - é”™è¯¯ç±»å‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          src/error.rs                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  #[derive(Debug, thiserror::Error)]                                          â”‚
â”‚  pub enum UpdateError {                                                      â”‚
â”‚      #[error("Network error: {0}")]                                          â”‚
â”‚      NetworkError(String),                                                   â”‚
â”‚                                                                              â”‚
â”‚      #[error("Download failed: {0}")]                                        â”‚
â”‚      DownloadError(String),                                                  â”‚
â”‚                                                                              â”‚
â”‚      #[error("Signature verification failed")]                               â”‚
â”‚      VerificationError,                                                      â”‚
â”‚                                                                              â”‚
â”‚      #[error("Installation failed: {0}")]                                    â”‚
â”‚      InstallationError(String),                                              â”‚
â”‚                                                                              â”‚
â”‚      #[error("No update available")]                                         â”‚
â”‚      NoUpdateAvailable,                                                      â”‚
â”‚  }                                                                           â”‚
â”‚                                                                              â”‚
â”‚  impl From<reqwest::Error> for UpdateError { ... }                           â”‚
â”‚  impl From<ed25519_dalek::SignatureError> for UpdateError { ... }            â”‚
â”‚  impl From<std::io::Error> for UpdateError { ... }                           â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ§… ä¾èµ–å…³ç³»

```
burncloud-auto-update
â”œâ”€â”€ burncloud-common        # å…±äº«ç±»å‹
â””â”€â”€ external
    â”œâ”€â”€ reqwest             # HTTP å®¢æˆ·ç«¯
    â””â”€â”€ ed25519-dalek       # ç­¾åéªŒè¯
```
